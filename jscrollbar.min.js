var jScrollBar=function(a){return new jScrollBar.prototype.init(a)};jScrollBar.prototype={constructor:jScrollBar,createElem:function(a){this.scrollBar=document.createElement("div");this.sliderBar=document.createElement("span");this.scrollBar.className="scroll-bar";this.scrollBar.appendChild(this.sliderBar);this.loadStyle(a);this.elem.appendChild(this.scrollBar);this.loadEvents()},loadStyle:function(a){var b,c={background:"#333",position:"absolute"},d={background:"#666",position:"absolute",cursor:"pointer",overflow:"hidden"};"v"==this.dir?(b=this.inner.offsetHeight/this.inner.scrollHeight,this.extend(c,{width:1,height:this.elem.clientHeight,top:0,right:2,display:1>b?"block":"none"}),this.extend(d,{width:5,height:b*this.elem.offsetHeight,top:0,left:-2})):"h"==this.dir&&(b=this.inner.offsetWidth/this.inner.scrollWidth,this.extend(c,{width:this.elem.clientWidth,height:1,lineHeight:1,left:0,bottom:2,display:1>b?"block":"none"}),this.extend(d,{width:b*this.elem.offsetWidth,height:5,left:0,top:-2}));a.barStyle&&this.extend(c,a.barStyle);a.sliderStyle&&this.extend(d,a.sliderStyle);this.css(this.scrollBar,c);this.css(this.sliderBar,d)},loadEvents:function(){var a=this;this.addEvent(this.inner,"scroll",function(){a.setSliderPos()});this.addEvent(this.sliderBar,"mousedown",function(b){a.barMouseDown(b)});this.addEvent(this.elem,"mousewheel",function(b){a.mouseScroll(b)});this.addEvent(this.elem,"DOMMouseScroll",function(b){a.mouseScroll(b)})},setSliderPos:function(){var a,b,c,d;"v"==this.dir?(a="top",b=this.inner.scrollTop,c=this.inner.scrollHeight-this.inner.offsetHeight,d=this.scrollBar.offsetHeight-this.sliderBar.offsetHeight):"h"==this.dir&&(a="left",b=this.inner.scrollLeft,c=this.inner.scrollWidth-this.inner.offsetWidth,d=this.scrollBar.offsetWidth-this.sliderBar.offsetWidth);this.sliderBar.style[a]=b/c*d+"px"},barMouseDown:function(a){var a=a||window.event,b=this,c=a.clientX-this.sliderBar.offsetLeft,d=a.clientY-this.sliderBar.offsetTop;this.sliderBar.setCapture&&this.sliderBar.setCapture();document.onmousemove=function(a){var a=a||window.event,e,f,g,h;"v"==b.dir?(e="scrollTop",f=a.clientY-d,g=b.scrollBar.offsetHeight-b.sliderBar.offsetHeight,h=b.inner.scrollHeight-b.inner.offsetHeight):"h"==b.dir&&(e="scrollLeft",f=a.clientX-c,g=b.scrollBar.offsetWidth-b.sliderBar.offsetWidth,h=b.inner.scrollWidth-b.inner.offsetWidth);b.inner[e]=f/g*h;b.preventDefault(a)};document.onmouseup=function(){b.sliderBar.releaseCapture&&b.sliderBar.releaseCapture();document.onmousemove=null;document.onmouseup=null}},mouseScroll:function(a){var a=a||window.event,b=this.mouseDir(a),c,d;"v"==this.dir?(c=this.inner.scrollHeight-this.inner.offsetHeight,d="scrollTop"):"h"==this.dir&&(c=this.inner.scrollWidth-this.inner.offsetWidth,d="scrollLeft");this.inner[d]+=(0<b?-1:1)*this.step;0!=this.inner[d]&&this.inner[d]<c&&this.preventDefault(a)},extend:function(a,b){for(attr in b)a[attr]=b[attr]},addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},removeEvent:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null},mouseDir:function(a){var b;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);return b},preventDefault:function(a){a.stopPropagation&&(a.preventDefault(),a.stopPropagation())||(a.cancelBubble=!0,a.returnValue=!1)},css:function(a,b){var c;for(s in b)c=b[s],"opacity"!=s&&!isNaN(Number(c))&&(c+="px"),a.style[s]=c}};jScrollBar.prototype.init=function(a){a&&(this.elem=a.elem||null,this.inner=a.inner||null,this.dir=a.dir||"v",this.step=40,this.createElem(a))};jScrollBar.prototype.init.prototype=jScrollBar.prototype;
